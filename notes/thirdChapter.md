# 树
### 定义
```
树(tree)是n(n≥0)个节点的有限集。当n=0时，成为空树。在任意一个非空树中，有如下特点。
1. 有且仅有一个特定的称为根的节点
2. 当n>1时，其余节点可分为m(m>0)个互不相交的有限集，每一个集合本身又是一个树，并称为根的子树
```
### 术语
- 根节点
- 叶子节点
- 父节点
- 孩子节点
- 兄弟节点
- 子树
# 二叉树
### 定义
```
二叉树(binary tree)是树的一种特殊形式。这种树的每个节点最多有2个孩子节点。
注意：这里；这里是最多有2个，也可能只有1个，也可能0个
```
## 满二叉树
### 定义
```
一个二叉树的所有非叶子节点都存在左右孩子，并且所有叶子节点都在同一层级上，那么这个树就是满二叉树
```
## 完全二叉树
### 定义
```
对一个有n个节点的二叉树，按层级顺序编号，则所有节点的编号为从1到n。
如果这个树所有节点和同样深度的满二叉树的编号为从1到n的节点位置相同，则这个二叉树为完全二叉树
```
***区别***：**满二叉树一定是完全二叉树，完全二叉树不一定是满二叉树**  
### 物理存储结构
1. ***链式存储结构***
2. ***数组***

链式存储结构就是一个节点有数据域，左指针域，右指针域  
数组存储结构，会按照层级顺序把二叉树的节点放到数组中对应的位置上。如果某一个节点的左孩子或右孩子空缺，对应的位置会空出来  
### 数组存储的相关公式  
父节点的下标是parent
- 左孩子的下标是 ***2 X parent + 1***
- 右孩子的下标是 ***2 X parent + 2***  

左孩子的下标是leftChild，右孩子的下标是rightChild
- 父节点的下标是 ***(leftChild - 1) / 2***
- 父节点的下标是 ***(rightChild - 2) / 2***
## 二叉树的应用
- 查找操作
- 维持相对顺序
### 二叉查找树（二叉排序树）
二叉树的树形结构使它很适合扮演索引的角色  
二叉查找树在二叉树的基础上增加了以下几个条件。
- 如果左子树不为空，则左子树所有节点的值均小于根节点的值
- 如果右子树不为空，则右子树所有节点的值均大于根节点的值
- 左、右子树也都是二叉查找树
### 时间复杂度
对于一个节点分布相对均衡的二叉查找树来说，如果节点总数是n，那么搜索节点的时间复杂度就是***O(logn)***  
### 二叉树的自平衡
二叉查找树有一个***致命问题***，比如当依次插入9,8,7,6,5,4时，左子树会很长，右子树会很短  
所以这涉及到二叉树的自平衡，二叉树的自平衡有很多方式，举几个例子
- 红黑树
- AVL树
- 树堆 

## 二叉树的遍历
从节点之间位置关系的角度来看，有
- 前序遍历
- 中序遍历
- 后序遍历
- 层序遍历

前中后三种遍历方式都可以用递归或非递归(栈)的方式来实现，后序遍历的非递归方法稍微复杂，比前中的都复杂

从更宏观的角度来看，二叉树的遍历归结为两大类
1. 深度优先遍历(前序遍历、中序遍历、后序遍历)
2. 广度优先遍历(层序遍历)

# 二叉堆
二叉堆的存储方式主要是顺序存储（数组）  
二叉堆本质上是一种完全二叉树，它分为两个类型
- ***最大堆***
- ***最小堆***

### 二叉堆的特性
- 最大堆的堆顶是整个堆中的最大元素
- 最小堆的堆顶是整个堆中的最小元素

最大堆的任何一个父节点的值，都***大于或等于***它左、右孩子节点的值  
最小堆的任何一个父节点的值，都***小于或等于***它左、右孩子节点的值

### 二叉堆的自我调整
对于二叉堆，有以下几种操作
1. 插入节点
2. 删除节点
3. 构建二叉堆

这几种操作都基于堆的自我调整，所谓**堆的自我调整**，  
就是把一个不符合堆的性质的完全二叉树，调整成一个堆。

### 时间复杂度
堆的插入操作是单一节点的”上浮“。删除操作也是单一节点的”下沉“  
这两个操作的平均交换次数都是堆高度的一半，所以时间复杂度为***O(logn)***  
而堆的构建操作需要所有非叶子节点依次”下沉“，时间复杂度为***O(n)***  

# 优先队列
优先队列不再遵循先入先出的原则，而是分为两种情况
- ***最大优先队列***，无论入队顺序如何，都是当前最大的元素优先出队
- ***最小优先队列***，无论入队顺序如何，都是当前最小的元素优先出队

利用线性数据结构可以实现优先队列，但时间复杂度较高，所以一般用二叉堆实现  
用最大堆实现最大优先队列，入队操作就是堆的插入操作，出队操作就是删除堆顶节点

### 时间复杂度
因为二叉堆节点“上浮”和“下沉”的时间复杂度都是***O(logn)***  
所以优先队列入队和出队的时间复杂度也是***O(logn)***  

# 本章小结
- 什么是树

树是n个节点的有限集，有且仅有一个特定的称为根的节点。当n>1时  
其余节点可分为m个互不相交的有限集，每一个集合本身又是一个树，并成为根的子树  

- 什么是二叉树

二叉树是树的一种特殊形式，每一个节点最多有两个孩子节点。  
二叉树包含完全二叉树和满二叉树两种特殊形态。

- 二叉树的遍历方式有有几种

根据遍历节点之间的关系，可以分为前序遍历，中序遍历，后序遍历和层序遍历  
从更宏观的角度划分，可以分为深度优先遍历和广度优先遍历

- 什么是二叉堆

二叉堆是一种特殊的完全二叉树，分为最大堆和最小堆  
在最大堆中，任何一个父节点的值，都大于或等于它左、右孩子节点的值
在最小堆中，任何一个父节点的值，都小于或等于它左、右孩子节点的值

- 什么是优先队列

优先队列分为最大优先队列和最小优先队列  
在最大优先队列中，无论入队顺序如何，当前最大的元素都会优先出队，这是基于最大堆实现的  
在最小优先队列中，无论入队顺序如何，当前最小的元素都会优先出队，这是基于最小堆实现的
 
